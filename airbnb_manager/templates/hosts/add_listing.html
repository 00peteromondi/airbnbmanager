{% extends 'hosts/base.html' %}
{% load static %}

{% block title %}Add Listing | Aurban Host{% endblock %}

{% block content_header %}Add New Listing{% endblock %}

{% block content %}
<style>
    /* Custom CSS to apply specific styles as requested */
    .form-field-container .form-label {
        /* The margin between the label and the input field */
        margin-bottom: 5px;
    }
    .form-input, .form-textarea, .form-select {
        /* Padding for a better user experience */
        padding: 15px;
        border-radius: 8px;
        
        background-color: #f3f4f6; /* A light grey background for the input fields */
    }
    
    /* Original styles for other elements */
    .form-input, .form-textarea, .form-select {
        @apply w-full p-3 md:p-4 border border-gray-300 rounded-xl shadow-sm transition-all duration-300 focus:ring-red-500 focus:border-red-500 focus:ring-2 focus:outline-none;
    }
    .form-input:hover, .form-textarea:hover, .form-select:hover {
        @apply border-red-400;
    }
    .form-textarea {
        @apply min-h-[150px] resize-y;
    }
    .icon {
        @apply mr-2 w-5 h-5 text-red-500;
    }
    
    /* The primary button with the requested border and hover effects */
    .button-primary {
        @apply bg-red-500 text-white font-semibold py-3 px-8 rounded-xl border border-red-500 hover:bg-red-600 hover:border-red-600 transition-all duration-300 transform hover:scale-105 shadow-lg;
    }
    /* The new cancel button with complementary styling */
    .button-secondary {
        @apply bg-gray-200 text-gray-800 font-semibold py-3 px-8 rounded-xl border border-gray-400 hover:bg-gray-300 transition-all duration-300 transform hover:scale-105 shadow-lg;
    }

    /* Animations from the original file */
    @keyframes fadeInU {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-up {
        animation: fadeInU 0.8s ease-out;
    }
    @keyframes bounceIn {
        0% { transform: scale(0.5); opacity: 0; }
        60% { transform: scale(1.2); opacity: 1; }
        100% { transform: scale(1); }
    }
    .animate-bounce-in {
        animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
    }
</style>

<div class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-gray-200 max-w-4xl mx-auto transform transition-all duration-300 hover:scale-[1.01]">

    <!-- Page Header with Illustration -->
    <div class="flex flex-col items-center text-center mb-10">
        <div class="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-4 animate-fade-in-up">
            <div data-lucide="home-plus" class="w-12 h-12 text-red-500 transform animate-bounce-in"></div>
        </div>
        <h2 class="text-4xl font-extrabold text-gray-900 leading-tight">Create a New Listing</h2>
        <p class="mt-2 text-lg text-gray-500 max-w-md">Tell us about your property. The more details you provide, the better the experience for your guests.</p>
    </div>

    <form method="post" class="space-y-8">
        {% csrf_token %}
        
        <!-- Animated Form Fields Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Property Name & City -->
            <div class="space-y-6">
                <div class="form-field-container">
                    <label for="{{ form.name.id_for_label }}" class="form-label flex items-center">
                        <div data-lucide="signature" class="icon"></div> Property Name
                    </label>
                    <input type="text" name="{{ form.name.name }}" id="{{ form.name.id_for_label }}"
                        value="{{ form.name.value|default_if_none:'' }}"
                        class="form-input"
                        placeholder="e.g. Modern Loft" required>
                    {% if form.name.errors %}
                        <div class="text-red-500 text-sm mt-1">{{ form.name.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-field-container">
                    <label for="{{ form.city.id_for_label }}" class="form-label flex items-center">
                        <div data-lucide="map-pin" class="icon"></div> City
                    </label>
                    <input type="text" name="{{ form.city.name }}" id="{{ form.city.id_for_label }}"
                        value="{{ form.city.value|default_if_none:'' }}"
                        class="form-input"
                        placeholder="e.g. Nairobi" required>
                    {% if form.city.errors %}
                        <div class="text-red-500 text-sm mt-1">{{ form.city.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <!-- Price & Property Type -->
            <div class="space-y-6">
                <div class="form-field-container">
                    <label for="{{ form.price.id_for_label }}" class="form-label flex items-center">
                        <div data-lucide="dollar-sign" class="icon"></div> Price per Night
                    </label>
                    <input type="number" name="{{ form.price.name }}" id="{{ form.price.id_for_label }}"
                        value="{{ form.price.value|default_if_none:'' }}"
                        class="form-input"
                        placeholder="e.g. 15000" min="0" required>
                    {% if form.price.errors %}
                        <div class="text-red-500 text-sm mt-1">{{ form.price.errors }}</div>
                    {% endif %}
                </div>
                <div class="form-field-container">
                    <label for="{{ form.property_type.id_for_label }}" class="form-label flex items-center">
                        <div data-lucide="building" class="icon"></div> Property Type
                    </label>
                    <select name="{{ form.property_type.name }}" id="{{ form.property_type.id_for_label }}" class="form-select" required>
                        {% for choice in form.property_type.field.choices %}
                            <option value="{{ choice.0 }}" {% if form.property_type.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                        {% endfor %}
                    </select>
                    {% if form.property_type.errors %}
                        <div class="text-red-500 text-sm mt-1">{{ form.property_type.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Bedrooms, Bathrooms, Sqft & Status -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
            <div class="form-field-container">
                <label for="{{ form.beds.id_for_label }}" class="form-label flex items-center">
                    <div data-lucide="bed" class="icon"></div> Beds
                </label>
                <input type="number" name="{{ form.beds.name }}" id="{{ form.beds.id_for_label }}"
                    value="{{ form.beds.value|default_if_none:'' }}"
                    class="form-input" min="0" required>
                {% if form.beds.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.beds.errors }}</div>
                {% endif %}
            </div>
            <div class="form-field-container">
                <label for="{{ form.baths.id_for_label }}" class="form-label flex items-center">
                    <div data-lucide="bath" class="icon"></div> Baths
                </label>
                <input type="number" name="{{ form.baths.name }}" id="{{ form.baths.id_for_label }}"
                    value="{{ form.baths.value|default_if_none:'' }}"
                    class="form-input" min="0" required>
                {% if form.baths.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.baths.errors }}</div>
                {% endif %}
            </div>
            <div class="form-field-container">
                <label for="{{ form.sqft.id_for_label }}" class="form-label flex items-center">
                    <div data-lucide="ruler" class="icon"></div> Sqft
                </label>
                <input type="number" name="{{ form.sqft.name }}" id="{{ form.sqft.id_for_label }}"
                    value="{{ form.sqft.value|default_if_none:'' }}"
                    class="form-input" min="0">
                {% if form.sqft.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.sqft.errors }}</div>
                {% endif %}
            </div>
            <div class="form-field-container">
                <label for="{{ form.status.id_for_label }}" class="form-label flex items-center">
                    <div data-lucide="check-circle-2" class="icon"></div> Status
                </label>
                <select name="{{ form.status.name }}" id="{{ form.status.id_for_label }}" class="form-select" required>
                    {% for choice in form.status.field.choices %}
                        <option value="{{ choice.0 }}" {% if form.status.value == choice.0 %}selected{% endif %}>{{ choice.1 }}</option>
                    {% endfor %}
                </select>
                {% if form.status.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.status.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <!-- Description (Full Width) -->
        <div class="form-field-container">
            <label for="{{ form.description.id_for_label }}" class="form-label flex items-center">
                <div data-lucide="clipboard-list" class="icon"></div> Description
            </label>
            <textarea name="{{ form.description.name }}" id="{{ form.description.id_for_label }}"
                class="form-textarea" placeholder="Describe your property..." required>{{ form.description.value|default_if_none:'' }}</textarea>
            {% if form.description.errors %}
                <div class="text-red-500 text-sm mt-1">{{ form.description.errors }}</div>
            {% endif %}
        </div>
        
        <!-- Submit Buttons -->
        <div class="mt-8 flex justify-end space-x-4">
            <a href="#" class="button-secondary group">
                <span class="flex items-center space-x-2">
                    <div data-lucide="x" class="w-5 h-5 transition-transform duration-300 group-hover:rotate-90"></div>
                    <span>Cancel</span>
                </span>
            </a>
            <button type="submit" class="button-primary group">
                <span class="flex items-center space-x-2">
                    <div data-lucide="plus-circle" class="w-5 h-5 transition-transform duration-300 group-hover:rotate-90"></div>
                    <span>Add Listing</span>
                </span>
            </button>
        </div>
    </form>
</div>
{% endblock %}
