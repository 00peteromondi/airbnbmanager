{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load cloudinary %}

{% block title %}Aurban Rentals | Your Next Urban Escape{% endblock %}

{% block extra_css %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    body {
        font-family: 'Inter', sans-serif;
    }
    
    .hero-bg-img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        z-index: 0;
        transition: opacity 1s ease-in-out;
        opacity: 0;
    }
    
    .hero-bg-img.active {
        opacity: 1;
    }
    
    .property-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .property-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }
    
    .fade-in-section {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease, transform 0.8s ease;
    }
    
    .fade-in-section.is-visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .carousel-container::-webkit-scrollbar {
        display: none;
    }
    
    .carousel-container {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    
    @keyframes fadeInUpAndOut {
        0% { opacity: 0; transform: translateY(20px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-20px); }
    }
    
    .animate-fadeInUp-and-fade-out {
        animation: fadeInUpAndOut 7s ease-in-out forwards;
    }
</style>
{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section id="hero-section" class="h-[90vh] flex flex-col items-center justify-center relative text-center fade-in-section overflow-hidden">
        <div class="absolute inset-0 bg-black opacity-40 z-10"></div>
        <div id="hero-content" class="z-20 text-center text-white px-6 flex flex-col items-center justify-center w-full h-full"></div>
    </section>

    <!-- Statistics Section -->
    <section class="py-16 bg-gray-50 fade-in-section">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div>
                    <div class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">{{ stats.active_properties|intcomma }}+</div>
                    <p class="text-gray-600 font-medium">Active Properties</p>
                </div>
                <div>
                    <div class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">{{ stats.happy_guests|intcomma }}+</div>
                    <p class="text-gray-600 font-medium">Happy Guests</p>
                </div>
                <div>
                    <div class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">{{ stats.superhosts_count|intcomma }}+</div>
                    <p class="text-gray-600 font-medium">Superhosts</p>
                </div>
                <div>
                    <div class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">{{ stats.countries|intcomma }}+</div>
                    <p class="text-gray-600 font-medium">Countries</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Properties Section -->
    <section class="py-16 bg-white fade-in-section">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12">
                <div>
                    <h2 class="text-4xl font-semibold text-gray-900">Featured Urban Escapes</h2>
                    <p class="text-lg text-gray-600 mt-2">Handpicked accommodations for an exceptional stay</p>
                </div>
                <a href="{% url 'core:properties_list' %}" class="mt-4 md:mt-0 inline-flex items-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-gray-900 hover:bg-gray-700 transition-colors duration-300">
                    <span>View All</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for property in featured_properties %}
                <div class="bg-white rounded-xl shadow-xl overflow-hidden property-card">
                    {% if property.images.first %}
                        {% cloudinary property.images.first.image width=400 height=300 crop="fill" class="w-full h-64 object-cover" %}
                    {% else %}
                        <img src="{% static 'images/placeholder-property.jpg' %}" alt="{{ property.name }}" class="w-full h-64 object-cover">
                    {% endif %}
                    
                    <div class="p-6">
                        <h3 class="font-semibold text-2xl mb-2 text-gray-800">{{ property.name }}</h3>
                        <p class="font-normal text-gray-600 mb-4">{{ property.description|truncatewords:20 }}</p>
                        
                        <div class="flex items-center mb-3 text-gray-600">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1 text-red-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                            <span class="text-sm">{{ property.city }}, {{ property.country }}</span>
                        </div>
                        
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-red-500 font-semibold text-xl">KES {{ property.price_per_night|intcomma }} / night</span>
                            <div class="flex items-center text-yellow-400">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.25l-6.18 3.25L7 14.14l-5-4.87 8.91-1.01L12 2z"/>
                                </svg>
                                <span class="ml-1 text-sm text-gray-600">
                                    {% with rating=property.avg_rating|default:0 %}
                                        {{ rating|floatformat:1 }}
                                    {% endwith %}
                                    ({{ property.review_count|default:0 }} reviews)
                                </span>
                            </div>
                        </div>
                        
                        <a href="{% url 'properties:property_detail' property.id %}" class="w-full inline-flex justify-center items-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-gray-900 hover:bg-gray-700 transition-colors duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14 2 14 8 20 8"/>
                            </svg>
                            <span>View Details</span>
                        </a>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-3 text-center py-12">
                    <div class="text-gray-400 text-6xl mb-4">üè†</div>
                    <h3 class="text-2xl font-semibold text-gray-600 mb-2">No Featured Properties</h3>
                    <p class="text-gray-500">Check back soon for amazing properties!</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Discover by Category -->
    <section class="py-16 bg-gray-100 fade-in-section">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12">Discover by Category</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Urban Escapes -->
                <div class="group block bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2 text-gray-800">Urban Escapes</h3>
                        <p class="text-gray-600 text-sm mb-4">Modern apartments in the heart of the city</p>
                        <a href="{% url 'core:properties_list' %}?property_type=apartment" class="inline-flex items-center justify-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-blue-600 hover:bg-blue-700 transition-colors duration-300">
                            <span>Explore</span>
                        </a>
                    </div>
                </div>
                
                <!-- Luxury Villas -->
                <div class="group block bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="h-48 bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2 text-gray-800">Luxury Villas</h3>
                        <p class="text-gray-600 text-sm mb-4">Premium villas with exceptional amenities</p>
                        <a href="{% url 'core:properties_list' %}?property_type=villa" class="inline-flex items-center justify-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-green-600 hover:bg-green-700 transition-colors duration-300">
                            <span>Explore</span>
                        </a>
                    </div>
                </div>
                
                <!-- Family Friendly -->
                <div class="group block bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="h-48 bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2 text-gray-800">Family Friendly</h3>
                        <p class="text-gray-600 text-sm mb-4">Perfect homes for family vacations</p>
                        <a href="{% url 'core:properties_list' %}?guests=4" class="inline-flex items-center justify-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-orange-600 hover:bg-orange-700 transition-colors duration-300">
                            <span>Explore</span>
                        </a>
                    </div>
                </div>
                
                <!-- Unique Stays -->
                <div class="group block bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                    <div class="h-48 bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2 text-gray-800">Unique Stays</h3>
                        <p class="text-gray-600 text-sm mb-4">One-of-a-kind accommodations</p>
                        <a href="{% url 'core:properties_list' %}?property_type=loft" class="inline-flex items-center justify-center space-x-2 px-6 py-3 rounded-lg text-white font-semibold bg-purple-600 hover:bg-purple-700 transition-colors duration-300">
                            <span>Explore</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Superhosts Section -->
    <section class="py-16 bg-white fade-in-section">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12">Meet Our Superhosts</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {% for host in superhosts %}
                <div class="bg-white rounded-2xl shadow-lg p-6 text-center transform transition-all duration-300 hover:scale-105 hover:shadow-xl">
                    <div class="flex justify-center mb-4">
                        {% if host.user.profile_picture %}
                            {% cloudinary host.user.profile_picture width=100 height=100 crop="fill" class="rounded-full border-4 border-yellow-400" %}
                        {% else %}
                            <div class="w-24 h-24 rounded-full bg-gray-300 border-4 border-yellow-400 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                            </div>
                        {% endif %}
                    </div>
                    
                    <h3 class="font-semibold text-xl mb-2 text-gray-800">{{ host.user.get_display_name }}</h3>
                    
                    <div class="flex items-center justify-center mb-3 text-yellow-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.25l-6.18 3.25L7 14.14l-5-4.87 8.91-1.01L12 2z"/>
                        </svg>
                        <span class="ml-1 text-sm font-medium text-gray-600">Superhost</span>
                    </div>
                    
                    <p class="text-gray-600 text-sm mb-4">
                        Hosting since {{ host.hosting_since|date:"M Y" }}
                    </p>
                    
                    <div class="flex justify-center items-center text-yellow-400 mb-3">
                        {% for i in "12345" %}
                            {% if forloop.counter <= host.average_rating %}
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.25l-6.18 3.25L7 14.14l-5-4.87 8.91-1.01L12 2z"/>
                                </svg>
                            {% else %}
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.25l-6.18 3.25L7 14.14l-5-4.87 8.91-1.01L12 2z"/>
                                </svg>
                            {% endif %}
                        {% endfor %}
                        <span class="ml-1 text-sm text-gray-600">{{ host.average_rating|floatformat:1 }}</span>
                    </div>
                    
                    <div class="text-xs text-gray-500">
                        {{ host.total_properties }} properties ‚Ä¢ {{ host.total_bookings }} bookings
                    </div>
                </div>
                {% empty %}
                <div class="col-span-4 text-center py-8">
                    <div class="text-gray-400 text-4xl mb-4">üëë</div>
                    <h3 class="text-xl font-semibold text-gray-600 mb-2">No Superhosts Yet</h3>
                    <p class="text-gray-500">Our hosts are working hard to earn superhost status!</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-r from-gray-900 to-red-900 text-white fade-in-section">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4">Ready to Start Hosting?</h2>
            <p class="text-xl mb-8 opacity-90">Join thousands of hosts earning extra income with their properties.</p>
            <a href="{% url 'hosts:register' %}" class="inline-flex items-center justify-center space-x-2 px-8 py-4 rounded-lg text-gray-900 font-semibold bg-white hover:bg-gray-100 transition-all duration-300 transform hover:-translate-y-1 shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
                <span class="text-lg">Become a Host</span>
            </a>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-16 bg-gray-50 fade-in-section">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12">What Our Guests Say</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                            SM
                        </div>
                        <div class="ml-4">
                            <div class="font-semibold text-gray-900">Sarah M.</div>
                            <div class="text-sm text-gray-600">Stayed in Nairobi</div>
                        </div>
                    </div>
                    <p class="text-gray-700 italic">"Absolutely incredible! The home was even more beautiful than the pictures, and the host was fantastic. A perfect urban escape."</p>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                            MT
                        </div>
                        <div class="ml-4">
                            <div class="font-semibold text-gray-900">Mike T.</div>
                            <div class="text-sm text-gray-600">Stayed in Mombasa</div>
                        </div>
                    </div>
                    <p class="text-gray-700 italic">"The perfect base for our family adventure. The house was spotless, and the location was ideal for exploring the local area."</p>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold text-lg">
                            AC
                        </div>
                        <div class="ml-4">
                            <div class="font-semibold text-gray-900">Alex C.</div>
                            <div class="text-sm text-gray-600">Stayed in Kisumu</div>
                        </div>
                    </div>
                    <p class="text-gray-700 italic">"A serene and inspiring retreat. I loved the unique design and the peaceful surroundings. Will definitely be back."</p>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block extra_scripts %}
<script>
    // Hero images and content with icons
    const heroSlides = [
        {
            image: "{% static 'images/hero-1.jpg' %}",
            title: "Your next adventure is just a click away.",
            subtitle: "Find your perfect space, wherever you go.",
            buttons: [
                { text: "Explore Cities", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>`, color: "bg-red-500 hover:bg-red-600" },
                { text: "Rural Getaways", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L3 8v12h18V8z"/><path d="M9 22v-4h6v4"/><path d="M3 8v12h18V8"/></svg>`, color: "bg-gray-800 hover:bg-gray-700" },
                { text: "Beach Escapes", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="7"/><path d="M12 2v1"/><path d="M12 22v1"/><path d="M4.9 4.9l.7.7"/><path d="M18.4 18.4l.7.7"/><path d="M2 12h1"/><path d="M21 12h1"/><path d="M4.9 19.1l.7-.7"/><path d="M18.4 5.6l.7-.7"/></svg>`, color: "bg-teal-500 hover:bg-teal-600" }
            ]
        },
        {
            image: "{% static 'images/rural.png' %}",
            title: "Escape the ordinary, embrace the extraordinary.",
            subtitle: "Discover unique homes for every journey.",
            buttons: [
                { text: "Luxury Stays", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19L5 12l7-7 7 7-7 7z"/><path d="M5 12h14"/></svg>`, color: "bg-purple-600 hover:bg-purple-700" },
                { text: "Family Fun", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 0 1 7.2 17.8L12 22 4.8 19.8A10 10 0 0 1 12 2Z"/><path d="M9 13a3 3 0 1 0 0-6 3 3 0 0 0 0-6z"/></svg>`, color: "bg-orange-500 hover:bg-orange-600" },
                { text: "Cozy Cabins", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 19h-2a2 2 0 0 1-2-2v-3H9v3a2 2 0 0 1-2 2H5"/><path d="M15 15h2a2 2 0 0 0 2-2v-4l-7-7-7 7v4a2 2 0 0 0 2 2h2"/></svg>`, color: "bg-amber-700 hover:bg-amber-800" }
            ]
        },
        {
            image: "{% static 'images/urban.png' %}",
            title: "Live like a local, not a tourist.",
            subtitle: "Experience authentic stays in unique neighborhoods.",
            buttons: [
                { text: "Foodie Tours", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21.5c-3.1 0-5.6-2.5-5.6-5.6 0-3.2 2.5-5.8 5.6-5.8 3.1 0 5.6 2.6 5.6 5.8 0 3.1-2.5 5.6-5.6 5.6z"/><path d="M12 16.5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5z"/><path d="M12 11.5v-10"/><path d="M22 15.5h-5"/><path d="M2 15.5h5"/></svg>`, color: "bg-lime-600 hover:bg-lime-700" },
                { text: "Art & Culture", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M22 12c-2.7 0-4.4 2.1-4.9 3.9"/><path d="M22 12c-2.7 0-4.4 2.1-4.9 3.9"/><path d="M12 2a10 10 0 0 0-10 10"/></svg>`, color: "bg-blue-600 hover:bg-blue-700" },
                { text: "Nightlife", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 0 1-9-9 9 9 0 0 1 9-9 9 9 0 0 1 9 9 9 9 0 0 1-9 9z"/><path d="M12 17.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>`, color: "bg-indigo-600 hover:bg-indigo-700" }
            ]
        }
    ];

    let currentHero = 0;
    let heroTimeout = null;

    function showHeroSlide(index) {
        const heroSection = document.getElementById('hero-section');
        const heroContent = document.getElementById('hero-content');

        // Remove old images
        document.querySelectorAll('.hero-bg-img').forEach(img => img.remove());

        // Create and show new image
        const img = document.createElement('img');
        img.src = heroSlides[index].image;
        img.alt = heroSlides[index].title;
        img.className = 'hero-bg-img active';
        heroSection.prepend(img);

        // Set hero text content
        heroContent.innerHTML = `
            <div class="animate-fadeInUp-and-fade-out">
                <h1 class="text-5xl md:text-7xl font-bold mb-4 drop-shadow-lg">${heroSlides[index].title}</h1>
                <p class="text-lg md:text-xl font-light mb-8">${heroSlides[index].subtitle}</p>
                <div class="z-10 mt-12 flex flex-wrap justify-center gap-4">
                    ${heroSlides[index].buttons.map(btn => `
                        <a href="{% url 'core:properties_list' %}" class="flex items-center space-x-2 px-6 py-3 rounded-full text-white font-semibold transition-all duration-300 transform hover:-translate-y-1 ${btn.color}">
                            ${btn.icon}
                            <span>${btn.text}</span>
                        </a>
                    `).join('')}
                </div>
            </div>
        `;
    }

    function cycleHeroSlides() {
        currentHero = (currentHero + 1) % heroSlides.length;
        showHeroSlide(currentHero);
        heroTimeout = setTimeout(cycleHeroSlides, 7000);
    }

    document.addEventListener('DOMContentLoaded', () => {
        showHeroSlide(currentHero);
        heroTimeout = setTimeout(cycleHeroSlides, 7000);
    });

    // Intersection Observer for fade-in animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
            }
        });
    }, {
        threshold: 0.1
    });

    document.querySelectorAll('.fade-in-section').forEach(section => {
        observer.observe(section);
    });
</script>
{% endblock %}